var VERSION,getCompileOptions,handlebarsPrecompile,path,ref,runIt,yargs;runIt=require("sleet/lib/command").runIt,ref=require("./helper"),getCompileOptions=ref.getCompileOptions,handlebarsPrecompile=ref.handlebarsPrecompile,path=require("path"),VERSION="Sleet-Handlebars version 0.0.1",yargs=require("yargs").usage("$0 [options] input.st [input2.st...]").describe("b","Block helpers. Seperated by comma(,)").describe("i","Inline block helpers. Seperated by comma(,)").describe("p","Precompile the output").describe("a","Precompile use AMD style").describe("c","Precompile use CommonJs style").describe("o","The output directory").describe("e","The file extension of output file").describe("w","Watch file changes").describe("v","Show the version number").describe("h","Show this message").alias("b","block-helper").alias("i","inline-block-helper").alias("p","precompile").alias("a","amd").alias("c","commonjs").alias("o","output").alias("e","extension").alias("w","watch").alias("v","version").alias("h","help").string("i").string("b")["boolean"]("v")["boolean"]("h")["boolean"]("w")["boolean"]("p")["boolean"]("a").string("c").string("e").string("o"),exports.run=function(){var e,i,s;return e=yargs.argv,i=e.b?e.b.split(","):[],s=e.i?e.i.split(","):[],e.compileOptions=getCompileOptions({blocks:i,inlineBlocks:s}),e.compileOptions.transform=function(i,s){return e.a?handlebarsPrecompile(i,{amd:!0}):e.c?handlebarsPrecompile(i,{commonjs:e.c}):e.p?handlebarsPrecompile(i,{name:path.basename(s)}):i},e.files=e._.slice(),e.h?yargs.showHelp():e.v?console.log(VERSION):((e.a||e.c||e.p)&&(e.e=e.extension="js"),runIt(e))};